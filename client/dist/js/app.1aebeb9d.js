(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/spoty-mix-vue/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"16a5":function(t,e,n){},"1e9f":function(t,e,n){},"206d":function(t,e,n){"use strict";var a=n("e50d"),i=n.n(a);i.a},2593:function(t,e,n){},"30db":function(t,e,n){"use strict";var a=n("caf9"),i=n.n(a);i.a},"3ab1":function(t,e,n){},"4f80":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",attrs:{id:"app"}},[n("router-view")],1)},s=[],o={name:"app"},r=o,c=(n("5c0b"),n("2877")),l=Object(c["a"])(r,i,s,!1,null,null,null),u=l.exports,d=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("h1",{staticClass:"login__logo"},[n("font-awesome-icon",{staticClass:"login__logo__icon",attrs:{icon:"not-equal"}}),t._v("SpotyMix\n  ")],1),t._m(0),t._m(1),n("v-button",{attrs:{text:"Login with your Spotify",type:"buttonLink",href:"http://localhost:8888/login",big:""}})],1)},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"login__slogan"},[t._v("\n    Your best\n    spotify\n    "),n("span",[t._v("mixer")]),t._v(" playlist\n  ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"login__description"},[t._v("\n    Access with your spotify user and\n    "),n("span",{staticClass:"bold"},[t._v("mix your playlist")]),t._v(" easily, choose your two ore more\n    favorite lists and mix them in one click!\n  ")])}],p=(n("ac6a"),n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return"buttonLink"===t.type?n("a",{staticClass:"c-button",class:[{"c-button--big ":t.big},{"c-button--disabled ":t.isDisabled},t.variantClass,t.extraClass,{" c-button--full-width":t.fullWidth}],attrs:{href:t.href}},[t.icon?n("font-awesome-icon",{staticClass:"c-button__icon",attrs:{icon:t.icon}}):t._e(),t.text?n("span",{staticClass:"c-button__text"},[t._v(t._s(t.text))]):t._e()],1):n("button",{staticClass:"c-button",class:[{"c-button--big ":t.big},{"c-button--disabled ":t.isDisabled},t.variantClass,t.extraClass,{" c-button--full-width":t.fullWidth}],on:{click:function(e){return e.preventDefault(),t.onButtonClick(e)}}},[t.icon?n("font-awesome-icon",{staticClass:"c-button__icon",attrs:{icon:t.icon}}):t._e(),t.text?n("span",{staticClass:"c-button__text"},[t._v(t._s(t.text))]):t._e()],1)}),h=[],_={name:"Button",props:{text:String,type:String,href:String,icon:String,extraClass:String,big:Boolean,disabled:Boolean,variant:String,fullWidth:Boolean},data:function(){return{isDisabled:this.disabled}},methods:{onButtonClick:function(){this.$emit("onClick")},activeButton:function(){this.isDisabled=!1},disabledButton:function(){this.isDisabled=!0}},computed:{variantClass:function(){return"green"===this.variant?"c-button--green":"blue"===this.variant?"c-button--blue":void 0}}},v=_,b=(n("ef55"),Object(c["a"])(v,p,h,!1,null,null,null)),g=b.exports,y={name:"login",components:{"v-button":g},methods:{getHashParams:function(){var t,e={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);t=n.exec(a);while(t)e[t[1]]=decodeURIComponent(t[2]),t=n.exec(a);return e}},mounted:function(){Object.keys(this.getHashParams()).length&&this.$store.commit("addConfig",this.getHashParams())},beforeRouteEnter:function(t,e,n){n((function(t){null!==t.$store.state.config.access_token&&n({name:"dashboard"})}))}},k=y,x=(n("206d"),Object(c["a"])(k,m,f,!1,null,null,null)),C=x.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page-content"},[n("v-header"),t.loading?n("Loader"):t._e(),t.error?n("p",{},[t._v(t._s(t.error))]):t._e(),t.loading?t._e():n("main",{staticClass:"page-content__main"},[n("div",{staticClass:"dashboard__header"},[n("h3",{staticClass:"dashboard__header__title"},[t._v("Select your playlists for the mix.")]),n("v-button",{ref:"mixButton",attrs:{text:"Mix",icon:"music",variant:"green",extraClass:"dashboard__header__mix-desktop"},on:{onClick:t.goToMix}})],1),this.alert.isVisible?n("Alert",{attrs:{color:"green"}},[t._v("\n      The playlist\n      "),n("span",{staticClass:"bold"},[t._v('"'+t._s(this.alert.name)+'"')]),t._v(" has been created correctly\n    ")]):t._e(),t.loading?t._e():n("ul",{staticClass:"dashboard__list"},t._l(this.playlists,(function(e,a){return n("list-card",{key:a,attrs:{title:e.name,poster:e.images[0].url,id:e.id,selected:-1!==t.mixSelection.indexOf(e.id)},on:{openPreview:function(){return t.openModalPreview("modal-preview",e)}}})})),1)],1),n("Modal",{directives:[{name:"show",rawName:"v-show",value:t.modal.isOpen&&"modal-preview"===t.modal.name,expression:"modal.isOpen && modal.name === 'modal-preview'"}],attrs:{title:this.prePlaylist.name},on:{close:t.closeModal}},[t.prePlaylist.tracks?n("ul",t._l(t.prePlaylist.tracks,(function(t,e){return n("track-item",{key:e,attrs:{data:t}})})),1):t._e()]),!t.loading&&t.songTrack.audio?n("footer",{staticClass:"page-content__footer"},[n("audio-player")],1):t._e()],1)},O=[],T=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"m-header"},[n("div",{staticClass:"m-header__wrap"},[n("h1",{staticClass:"m-header__logo"},[n("font-awesome-icon",{staticClass:"m-header__logo__icon",attrs:{icon:"not-equal"}}),t._v("SpotyMix\n    ")],1),n("v-button",{attrs:{icon:"sign-out-alt",text:"Sign out"},on:{onClick:t.logOut}})],1)])}),P=[],$={name:"nav-header",components:{"v-button":g},methods:{logOut:function(){this.$store.commit("logOut"),this.$router.push({name:"home"})}}},S=$,j=(n("8ee7"),Object(c["a"])(S,T,P,!1,null,null,null)),B=j.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{ref:"thisCard",staticClass:"list-card",class:t.isSelectedClass,on:{click:function(e){return e.preventDefault(),t.toggleActive(e)}}},[n("img",{staticClass:"list-card__image",attrs:{src:t.poster,alt:t.title}}),n("h3",{staticClass:"list-card__title"},[t._v(t._s(t.title))]),n("button",{staticClass:"list-card__preview",on:{click:function(e){return e.stopPropagation(),t.previewClick(e)}}},[t._v("Preview")])])},E=[],D=(n("8e6e"),n("bd86")),L=n("2f62");function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){Object(D["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var R={name:"list-card",data:function(){return{isSelected:!1}},props:{title:String,poster:String,id:String,selected:Boolean},mounted:function(){this.selected&&(this.isSelected=!0)},methods:{toggleActive:function(){this.isSelected=!this.isSelected,this.isSelected?this.$store.commit("addListToMix",this.id):this.$store.commit("removeListToMix",this.id),this.mixSelection.length>=2?this.$parent.$refs.mixButton.activeButton():this.$parent.$refs.mixButton.disabledButton()},previewClick:function(){this.$emit("openPreview")}},computed:N({isSelectedClass:function(){if(this.isSelected)return"list-card--is-active"}},Object(L["b"])(["mixSelection"]))},U=R,K=(n("ffb6"),Object(c["a"])(U,M,E,!1,null,null,null)),q=K.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal-fade"}},[n("div",{staticClass:"c-modal"},[n("div",{staticClass:"c-modal__wrap"},[n("span",{staticClass:"c-modal__wrap__icon-close",on:{click:t.closeModal}},[n("font-awesome-icon",{attrs:{icon:"times-circle"}})],1),t.title?n("header",{staticClass:"c-modal__header"},[n("h2",{staticClass:"c-modal__header__title"},[t._v(t._s(t.title))])]):t._e(),n("main",{staticClass:"c-modal__content"},[t._t("default",[t._v("No content")])],2)])])])},I=[],V={name:"modal",props:["title"],methods:{closeModal:function(){this.$emit("close")}}},H=V,W=(n("30db"),Object(c["a"])(H,F,I,!1,null,null,null)),Y=W.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"c-track-item"},[n("div",{ref:"trackContent",staticClass:"c-track-item__cont"},[n("div",{staticClass:"c-track-item__cont__poster"},[n("img",{attrs:{src:t.poster,alt:t.title}})]),n("div",{staticClass:"c-track-item__cont__title"},[n("h3",{staticClass:"c-track-item__cont__artist"},[t._v(t._s(t.artist))]),n("h4",{staticClass:"c-track-item__cont__track"},[t._v("\n        "+t._s(t.title)+"\n        "),n("span",[t._v(t._s(t.album))])])])]),n("div",{staticClass:"c-track-item__actions"},[t.isPlaying&&this.data.preview_url===this.songTrack.audio?t._e():n("button",{staticClass:"c-track-item__actions__icon",class:{"is-disabled":!this.data.preview_url},on:{click:t.playTrack}},[n("font-awesome-icon",{attrs:{icon:"play"}})],1),t.isPlaying&&this.data.preview_url===this.songTrack.audio?n("button",{staticClass:"c-track-item__actions__icon",class:{"is-disabled":!this.data.preview_url},on:{click:t.stopTrack}},[n("font-awesome-icon",{attrs:{icon:"stop"}})],1):t._e(),t.isDeletable?n("button",{ref:"deleteButton",staticClass:"c-track-item__actions__icon",on:{click:function(e){return e.preventDefault(),function(e){return t.deleteThisTrack(e)}(e)}}},[n("font-awesome-icon",{attrs:{icon:"trash"}})],1):t._e()])])},z=[];function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(D["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var X={name:"track-item",props:{data:{type:Object,required:!0},isDeletable:{type:Boolean,required:!1}},data:function(){return{isPlaying:!1}},computed:Q({poster:function(){return this.data.album.images[0].url},artist:function(){return this.data.artists[0].name},title:function(){return this.data.name},album:function(){return this.data.album.name}},Object(L["b"])(["tracks","songTrack"])),methods:{deleteThisTrack:function(t){this.$store.commit("deleteTrack",this.data.id),this.$refs.deleteButton.blur(),0===this.tracks.length&&(this.$store.commit("resetPlaylistsSelection"),this.$router.history.push("dashboard")),this.data.preview_url===this.songTrack.audio&&this.$store.commit("removeSongTrack")},playTrack:function(){this.$store.commit("playSongTrack",this.data),this.isPlaying=!0},stopTrack:function(){this.$store.commit("removeSongTrack"),this.isPlaying=!1}}},Z=X,tt=(n("a145"),Object(c["a"])(Z,J,z,!1,null,null,null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-alert",class:t.variantClass},[t._t("default")],2)},at=[],it={name:"alert",props:{color:{type:String,required:!1}},computed:{variantClass:function(){if("green"===this.color)return"c-alert--green"}}},st=it,ot=(n("bcda"),Object(c["a"])(st,nt,at,!1,null,null,null)),rt=ot.exports,ct=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},lt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-loader-wrap"},[n("div",{staticClass:"c-loader"}),n("div",{staticClass:"c-loader__text"},[t._v("Loading ...")])])}],ut={name:"loader"},dt=ut,mt=(n("a071"),Object(c["a"])(dt,ct,lt,!1,null,null,null)),ft=mt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-audio-player"},[n("audio",{ref:"audioPlayer",attrs:{autoplay:"",src:t.songTrack.audio},on:{timeupdate:function(e){t.currentTime=e.target.currentTime}}},[t._v("Your browser does not support the audio element.")]),n("span",{staticClass:"c-audio-player__close",on:{click:function(e){return e.preventDefault(),t.close(e)}}},[n("font-awesome-icon",{attrs:{icon:"chevron-down"}})],1),n("div",{staticClass:"c-audio-player__controls"},[t.isPause?n("button",{staticClass:"c-audio-player__controls__icon",on:{click:function(e){return e.preventDefault(),t.play(e)}}},[n("font-awesome-icon",{attrs:{icon:"play"}})],1):t._e(),t.isPause?t._e():n("button",{staticClass:"c-audio-player__controls__icon",on:{click:function(e){return e.preventDefault(),t.pause(e)}}},[n("font-awesome-icon",{attrs:{icon:"pause"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentTime,expression:"currentTime"}],staticClass:"c-audio-player__controls__range",attrs:{type:"range",max:"30",min:"0"},domProps:{value:t.currentTime},on:{input:function(e){return t.updateTime(e)},__r:function(e){t.currentTime=e.target.value}}}),n("button",{staticClass:"c-audio-player__controls__icon",on:{click:function(e){return e.preventDefault(),t.stop(e)}}},[n("font-awesome-icon",{attrs:{icon:"stop"}})],1)]),n("p",{staticClass:"c-audio-player__title"},[t._v(t._s(t.songTrack.artist)+" - "+t._s(t.songTrack.name))])])},ht=[],_t={name:"audioplayer",data:function(){return{isPause:!1,currentTime:null}},components:{"v-button":g},computed:Object(L["b"])(["songTrack"]),methods:{play:function(){this.$refs.audioPlayer.play(),this.isPause=!1},pause:function(){this.$refs.audioPlayer.pause(),this.isPause=!0},stop:function(){this.$refs.audioPlayer.pause(),this.$refs.audioPlayer.currentTime=0,this.isPause=!0},updateTime:function(t){this.currentTime=t.srcElement.valueAsNumber},close:function(){this.$store.commit("removeSongTrack")}},watch:{currentTime:function(t){Math.abs(t-this.$refs.audioPlayer.currentTime)>.5&&(this.$refs.audioPlayer.currentTime=t)}}},vt=_t,bt=(n("8186"),Object(c["a"])(vt,pt,ht,!1,null,null,null)),gt=bt.exports,yt=(n("96cf"),n("3b8d"));function kt(t,e,n){return t.spotify.setAccessToken(n),new Promise((function(n,a){t.spotify.getUserPlaylists(e,{limit:50}).then((function(t){n(t.body.items)}),(function(t){return a(t)}))}))}function xt(t,e,n){return Ct.apply(this,arguments)}function Ct(){return Ct=Object(yt["a"])(regeneratorRuntime.mark((function t(e,n,a){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.spotify.setAccessToken(a),Array.isArray(n)||(n=Array(n)),i=[],t.t0=regeneratorRuntime.keys(n);case 4:if((t.t1=t.t0()).done){t.next=10;break}return s=t.t1.value,t.next=8,e.spotify.getPlaylist(n[s]).then((function(t){i=i.concat(t.body.tracks.items)})).catch((function(t){return console.log(t)}));case 8:t.next=4;break;case 10:return t.abrupt("return",i.map((function(t){return t.track})));case 11:case"end":return t.stop()}}),t)}))),Ct.apply(this,arguments)}function wt(t,e,n,a,i){return Ot.apply(this,arguments)}function Ot(){return Ot=Object(yt["a"])(regeneratorRuntime.mark((function t(e,n,a,i,s){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.spotify.setAccessToken(s),t.prev=1,t.next=4,e.spotify.createPlaylist(n,a,{public:!0});case 4:return o=t.sent,r=o.body.id,t.next=8,e.spotify.addTracksToPlaylist(r,i);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log("error:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])}))),Ot.apply(this,arguments)}var Tt={name:"dashboard",components:{"v-header":B,"list-card":q,"v-button":g,"track-item":et,"audio-player":gt,Modal:Y,Alert:rt,Loader:ft},data:function(){return{loading:!0,error:null,alert:{isVisible:!1,name:null},modal:{name:null,isOpen:!1},prePlaylist:{name:null,tracks:null}}},created:function(){var t=this;kt(this,this.config.user_id,this.config.access_token).then((function(e){t.loading=!1,t.$store.commit("addPlaylists",e.filter((function(t){return t.tracks.total>0})))})).catch((function(e){t.loading=!1,t.error=e.message})),this.$route.params.mixCreated&&(this.alert.isVisible=!0,this.alert.name=this.$route.params.name,this.$scrollTo({element:"body",easing:"linear"}),setTimeout((function(){t.alert.isVisible=!1}),6e3))},updated:function(){this.mixSelection.length>=2?this.$refs.mixButton.activeButton():this.$refs.mixButton.disabledButton()},methods:{openModalPreview:function(t,e){var n=this;document.getElementsByTagName("body")[0].classList.add("is-hide"),xt(this,e.id,this.config.access_token).then((function(a){n.prePlaylist={name:e.name,tracks:a},n.modal.isOpen=!0,n.modal.name=t}))},closeModal:function(){this.modal.isOpen=!1,this.modal.name=null,this.prePlaylist={name:null,tracks:null},document.getElementsByTagName("body")[0].classList.remove("is-hide"),this.$store.commit("removeSongTrack")},goToMix:function(){this.$router.history.push("mix")}},computed:Object(L["b"])(["mixSelection","config","playlists","songTrack"])},Pt=Tt,$t=(n("b985"),Object(c["a"])(Pt,w,O,!1,null,null,null)),St=$t.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page-content"},[n("v-header"),t.loading?n("Loader"):t._e(),t.error?n("p",[t._v(t._s(t.error))]):t._e(),!t.loading&&t.songTrack.audio?n("footer",{staticClass:"page-content__footer"},[t.songTrack.audio?n("audio-player"):t._e()],1):t._e(),this.loading?t._e():n("main",{staticClass:"page-content__main"},[n("div",{staticClass:"mix__header"},[n("div",{staticClass:"mix__header__title"},[n("h3",{staticClass:"mix__header__title__desc"},[t._v("Your new mixlist")]),n("h4",{staticClass:"mix__header__title__number"},[t._v("Number of tracks: "+t._s(this.tracks.length))])]),n("div",{staticClass:"mix__header__actions"},[n("v-button",{attrs:{text:"Return",icon:"reply"},on:{onClick:t.goToDashboard}}),n("v-button",{ref:"createButton",attrs:{text:"Create playlist",icon:"volume-up",variant:"green",extraClass:"mix__header__mix-desktop margin-left-10"},on:{onClick:function(){return t.openCreateModal("modal-create")}}})],1)]),this.tracks.length>=100?n("Alert",[t._v("\n      The\n      "),n("span",{staticClass:"bold"},[t._v("maximum number of tracks")]),t._v(" for a playlist is 100, please delete some tracks\n    ")]):t._e(),this.loading?t._e():n("ul",{staticClass:"mix__list"},t._l(this.tracks,(function(t,e){return n("track-item",{key:e,attrs:{data:t,isDeletable:""}})})),1),n("Modal",{directives:[{name:"show",rawName:"v-show",value:t.modal.isOpen&&"modal-create"===t.modal.name,expression:"modal.isOpen && modal.name === 'modal-create'"}],attrs:{title:"Set a name for your playlist and create it!"},on:{close:t.closeModal}},[n("div",{staticClass:"mix__modal-create"},[n("form",{staticClass:"mix__modal-create__form"},[n("InputField",{attrs:{placeholder:"Playlist name",extraClass:"margin-right-20"},on:{onKeyUp:function(e){return t.checkCreateMixButton(e)}}}),n("v-button",{ref:"createMixButton",attrs:{text:"Mixing!",icon:"sliders-h",variant:"green",disabled:"",type:"submit"},on:{onClick:t.mixing}})],1)])])],1)],1)},Bt=[],Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{ref:"field",staticClass:"c-input",class:t.extraClass,attrs:{type:t.inputType,placeholder:t.placeholderText},domProps:{value:t.value},on:{input:function(e){return t.getData(e.target.value)},keyup:function(e){return t.onInputKeyUp(e)}}})},Et=[],Dt=new a["a"],Lt={name:"inputField",props:{value:String,inputType:String,placeholderText:String,extraClass:String,onKeyUp:Function},methods:{getData:function(t){this.$emit("input",t)},onInputKeyUp:function(t){null!==this.onKeyUp&&this.$emit("onKeyUp",t.target.value)}},updated:function(){var t=this;Dt.$on("resetField",(function(){t.$refs.field.value=null}))}},At=Lt,Nt=(n("e11c"),Object(c["a"])(At,Mt,Et,!1,null,null,null)),Rt=Nt.exports,Ut={name:"mix",components:{"v-header":B,"v-button":g,"track-item":et,"audio-player":gt,Modal:Y,InputField:Rt,Alert:rt,Loader:ft},data:function(){return{loading:!0,error:null,modal:{name:null,isOpen:!1},mixName:null}},mounted:function(){var t=this;this.loading=!0,xt(this,this.mixSelection,this.config.access_token).then((function(e){t.$store.commit("addTracks",e),t.loading=!1}))},updated:function(){this.tracks.length>=100?this.$refs.createButton.disabledButton():void 0!==this.$refs.createButton&&this.$refs.createButton.activeButton()},methods:{goToDashboard:function(){this.$router.history.push("dashboard")},openCreateModal:function(t,e){document.getElementsByTagName("body")[0].classList.add("is-hide"),this.modal.isOpen=!0,this.modal.name=t},closeModal:function(){this.modal.isOpen=!1,this.modal.name=null,document.getElementsByTagName("body")[0].classList.remove("is-hide")},checkCreateMixButton:function(t){this.mixName=t,t.length>0?this.$refs.createMixButton.activeButton():this.$refs.createMixButton.disabledButton()},mixing:function(){var t=this,e=this.tracks.map((function(t){return t.uri}));wt(this,this.config.user_id,this.mixName,e,this.config.access_token).then((function(){t.closeModal(),t.$router.history.push({name:"dashboard",params:{mixCreated:!0,name:t.mixName}}),t.$store.commit("resetPlaylistsSelection"),t.$store.commit("removeSongTrack")}))}},computed:Object(L["b"])(["mixSelection","config","playlists","tracks","songTrack"])},Kt=Ut,qt=(n("63d0"),Object(c["a"])(Kt,jt,Bt,!1,null,null,null)),Ft=qt.exports,It={addConfig:function(t,e){t.config.access_token=e.access_token,t.config.refresh_token=e.refresh_token,t.config.user_id=e.client_id,t.auth=!0},logOut:function(t){t.auth=!1},addPlaylists:function(t,e){t.playlists=e},addListToMix:function(t,e){t.mixSelection.push(e)},resetPlaylistsSelection:function(t){t.mixSelection=[]},removeListToMix:function(t,e){t.mixSelection=t.mixSelection.filter((function(t){return t!==e}))},addTracks:function(t,e){t.tracks=e},deleteTrack:function(t,e){t.tracks=t.tracks.filter((function(t){return t.id!==e}))},playSongTrack:function(t,e){t.songTrack={audio:e.preview_url,name:e.name,artist:e.artists[0].name}},removeSongTrack:function(t){t.songTrack.audio=null}};a["a"].use(L["a"]);var Vt=new L["a"].Store({state:{auth:!1,config:{user_id:null,access_token:null,refresh_token:null},playlists:{},mixSelection:[],tracks:[],songTrack:{audio:null,name:null,artist:null}},mutations:It});a["a"].use(d["a"]);var Ht=new d["a"]({mode:"history",base:"/spoty-mix-vue/",routes:[{path:"/",name:"home",redirect:{name:"login"}},{path:"/login",name:"login",component:C,beforeEnter:function(t,e,n){Vt.state.auth?n({name:"dashboard"}):n()}},{path:"/dashboard",name:"dashboard",component:St,props:{mixCreated:!1,name:null},beforeEnter:function(t,e,n){Vt.state.auth?n():n({name:"login"})}},{path:"/mix",name:"mix",component:Ft,beforeEnter:function(t,e,n){Vt.state.auth?n():n({name:"login"})}},{path:"*",redirect:{name:"login"}}]}),Wt=Ht,Yt=n("f13c"),Jt=n.n(Yt),zt=n("d9ca"),Gt=n.n(zt),Qt=n("a255"),Xt=n.n(Qt),Zt=n("ecee"),te=n("c074");Zt["c"].add(te["i"],te["e"],te["c"],te["d"],te["b"],te["l"],te["g"],te["h"],te["n"],te["j"],te["m"],te["f"],te["g"],te["k"],te["a"]);Zt["c"];var ee=n("ad3d");a["a"].use(Xt.a,new Gt.a),a["a"].use(Jt.a),a["a"].component("font-awesome-icon",ee["a"]),a["a"].config.productionTip=!1,new a["a"]({router:Wt,store:Vt,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("e332"),i=n.n(a);i.a},"63d0":function(t,e,n){"use strict";var a=n("dd68"),i=n.n(a);i.a},"76b9":function(t,e,n){},8186:function(t,e,n){"use strict";var a=n("3ab1"),i=n.n(a);i.a},"859e":function(t,e,n){},"8ee7":function(t,e,n){"use strict";var a=n("b82e"),i=n.n(a);i.a},a071:function(t,e,n){"use strict";var a=n("2593"),i=n.n(a);i.a},a145:function(t,e,n){"use strict";var a=n("76b9"),i=n.n(a);i.a},b82e:function(t,e,n){},b985:function(t,e,n){"use strict";var a=n("16a5"),i=n.n(a);i.a},bcda:function(t,e,n){"use strict";var a=n("4f80"),i=n.n(a);i.a},caf9:function(t,e,n){},dd68:function(t,e,n){},e11c:function(t,e,n){"use strict";var a=n("1e9f"),i=n.n(a);i.a},e332:function(t,e,n){},e50d:function(t,e,n){},ef55:function(t,e,n){"use strict";var a=n("859e"),i=n.n(a);i.a},f25c:function(t,e,n){},ffb6:function(t,e,n){"use strict";var a=n("f25c"),i=n.n(a);i.a}});
//# sourceMappingURL=app.1aebeb9d.js.map